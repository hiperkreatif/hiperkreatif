---
import { getImage } from "astro:assets";
import BgPattern from "../assets/bg-pattern.webp";
import Button from "./Button.astro";

export interface HeroProps {
  badge?: string;
  headline: string;
  description: string;
  primaryButtonText: string;
  secondaryButtonText: string;
  primaryButtonLink: string;
  secondaryButtonLink: string;
  secondaryButtonTarget?: string;
  secondaryButtonRel?: string;
}

const {
  badge,
  headline,
  description,
  primaryButtonText,
  secondaryButtonText,
  primaryButtonLink,
  secondaryButtonLink,
  secondaryButtonTarget,
  secondaryButtonRel
} = Astro.props;

const bg = await getImage({
  src: BgPattern,
  widths: [512],
  formats: ["webp"],
  quality: 70,
});
---

<!-- Hero -->
<section class="mt-26 px-6">
  <!-- Background Pattern -->
  <div
    class="absolute inset-0 -z-10 sm:opacity-30 opacity-25"
    style={`background-image: url(${bg.src}); background-size: repeat; background-position: center;`}
    aria-hidden="true"
  >
  </div>

  <!-- Background Decorations -->
  <div
    class="absolute inset-0 -z-10 overflow-hidden pointer-events-none"
    aria-hidden="true"
  >
    <div
      class="absolute w-[520px] h-[520px] bg-black/5 rounded-full blur-3xl -top-48 -left-48"
    >
    </div>
    <div
      class="absolute w-[520px] h-[520px] bg-black/5 rounded-full blur-3xl -right-64 bottom-0"
    >
    </div>
  </div>

  <div class="text-center max-w-6xl mx-auto relative z-10">
    {badge && (
      <div
        class="inline-flex items-center gap-2 text-[14px] font-medium px-3 py-1 rounded-full bg-gray-900 text-white mb-4"
      >
        {badge}
      </div>
    )}

    <h1
      class="text-5xl md:text-7xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 tracking-tight leading-tight"
    >
      {headline}
    </h1>

    <p class="text-lg md:text-xl text-gray-700 mb-8 leading-relaxed">
      {description}
    </p>

    <div
      class="flex flex-col sm:flex-row gap-4 mb-2 justify-center w-full sm:max-w-2xl mx-auto"
    >
      <Button
        variant="primary"
        size="lg"
        href={primaryButtonLink}
        text={primaryButtonText}
      />
      <Button
        variant="secondary"
        size="lg"
        href={secondaryButtonLink}
        { ...(secondaryButtonTarget && { target: secondaryButtonTarget }) }
        { ...(secondaryButtonRel && { rel: secondaryButtonRel }) }
        text={secondaryButtonText}
      />
    </div>
  </div>
</section>
